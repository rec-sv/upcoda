function updateClock(){const t=new Date,e=document.getElementById("clock");e&&(e.textContent=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`)}function openWindow(t,e){const n=document.getElementById("window-template").cloneNode(!0);n.style.display="block",n.style.left="200px",n.style.top="100px";const o=n.querySelector(".window-title"),i=n.querySelector(".window-content");o.textContent=t,i.textContent=e,document.body.appendChild(n),makeWindowDraggable(n)}function openAboutWindow(){openWindow("About upcodaOS","\nupcodaOS v0.76.8 (Alpha Build) â€” May contain bugs and incomplete features.\n    ")}function makeWindowDraggable(t){const e=t.querySelector(".window-header");let n,o,i=!1;e.addEventListener("mousedown",(function(e){i=!0,n=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop,t.style.zIndex=1e3})),document.addEventListener("mousemove",(function(e){if(!i)return;t.style.left=e.clientX-n+"px",t.style.top=e.clientY-o+"px"})),document.addEventListener("mouseup",(function(){i=!1,t.style.zIndex=500}));t.querySelector(".close-btn").addEventListener("click",(function(){t.style.display="none",playSound("click")}));t.querySelector(".minimize-btn").addEventListener("click",(function(){playSound("click")}));const a=t.querySelector(".maximize-btn");let c=!1;a.addEventListener("click",(function(){playSound("click"),c?(t.style.width="auto",t.style.height="auto",t.style.left="200px",t.style.top="100px"):(t.style.width="80%",t.style.height="80%",t.style.left="10%",t.style.top="10%"),c=!c}))}document.addEventListener("DOMContentLoaded",(function(){new ParticleSystem;updateClock(),setInterval(updateClock,1e3);const t=document.getElementById("start-button"),e=document.getElementById("start-menu");t.addEventListener("click",(function(t){t.stopPropagation(),e.style.display="block"===e.style.display?"none":"block",playSound("click")})),document.addEventListener("click",(function(t){t.target.closest("#start-button")||t.target.closest("#start-menu")||(e.style.display="none")}));const n=document.querySelectorAll(".icon");let o,i,a=null;n.forEach((t=>{t.addEventListener("mousedown",(function(t){a=this;const e=this.getBoundingClientRect();o=t.clientX-e.left,i=t.clientY-e.top,a.style.zIndex="100"})),t.addEventListener("dblclick",(function(){if(this.dataset.url)window.open(this.dataset.url,"_blank"),playSound("click");else if("text-file"===this.dataset.action){openWindow("upcoda.txt",{upcoda:"upcodaOS\n\nmade by upcoda:\n-email: upcoda.g@gmail.com\n discord: up_coda."}[this.dataset.content]),playSound("window_open")}}))})),document.addEventListener("mousemove",(function(t){if(a){const e=document.querySelector(".desktop").getBoundingClientRect(),n=e.width-a.offsetWidth,c=e.height-a.offsetHeight;let d=t.clientX-e.left-o,l=t.clientY-e.top-i;d=Math.max(0,Math.min(d,n)),l=Math.max(0,Math.min(l,c)),a.style.left=`${d}px`,a.style.top=`${l}px`}})),document.addEventListener("mouseup",(function(){a&&(a.style.zIndex="auto",a=null)}));document.querySelectorAll(".menu-item").forEach((t=>{"about"===t.dataset.action&&t.addEventListener("click",(function(){openAboutWindow(),playSound("window_open")}))})),setTimeout((()=>{document.querySelector(".loading-screen").style.display="none",playSound("boot")}),1e3)}));class ParticleSystem{constructor(){this.particles=[],this.container=document.getElementById("particle-system"),this.createParticles(100),this.animate()}createParticles(t){for(let e=0;e<t;e++){const t=document.createElement("div");t.className="particle",Object.assign(t.style,{width:2*Math.random()+1+"px",height:2*Math.random()+1+"px",left:100*Math.random()+"%",top:100*Math.random()+"%",opacity:.5*Math.random()+.1}),this.container.appendChild(t),this.particles.push({element:t,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:.2*(Math.random()-.5),vy:.2*(Math.random()-.5)})}}animate(){this.particles.forEach((t=>{t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>window.innerWidth)&&(t.vx*=-1),(t.y<0||t.y>window.innerHeight)&&(t.vy*=-1),t.element.style.transform=`translate(${t.x}px, ${t.y}px)`})),requestAnimationFrame((()=>this.animate()))}}function playSound(t){new Audio({boot:"sounds/b
